@PACKAGE_INIT@

# Bring in the exported target 'aic-sdk'
include("${CMAKE_CURRENT_LIST_DIR}/aic-sdkTargets.cmake")

# Re-create the imported C SDK target in the install tree
if(NOT TARGET aic_c)
    add_library(aic_c UNKNOWN IMPORTED GLOBAL)

    # Compute install-tree roots relative to this file:
    set(_AIC_PREFIX     "${CMAKE_CURRENT_LIST_DIR}/../..")
    set(_AIC_INCLUDEDIR "${_AIC_PREFIX}/include")
    set(_AIC_LIBDIR     "${_AIC_PREFIX}/lib")

    if(WIN32)
        if(EXISTS "${_AIC_LIBDIR}/aic.dll")
            set_property(TARGET aic_c PROPERTY IMPORTED_LOCATION "${_AIC_LIBDIR}/aic.dll")
        endif()
        if(EXISTS "${_AIC_LIBDIR}/aic.lib")
            set_property(TARGET aic_c PROPERTY IMPORTED_IMPLIB   "${_AIC_LIBDIR}/aic.lib")
        endif()
    elseif(APPLE)
        foreach(_cand libaic.dylib libaic.a)
            if(EXISTS "${_AIC_LIBDIR}/${_cand}")
                set_property(TARGET aic_c PROPERTY IMPORTED_LOCATION "${_AIC_LIBDIR}/${_cand}")
                break()
            endif()
        endforeach()
    else() # Linux
        foreach(_cand libaic.so libaic.a)
            if(EXISTS "${_AIC_LIBDIR}/${_cand}")
                set_property(TARGET aic_c PROPERTY IMPORTED_LOCATION "${_AIC_LIBDIR}/${_cand}")
                break()
            endif()
        endforeach()
    endif()

    set_property(TARGET aic_c PROPERTY INTERFACE_INCLUDE_DIRECTORIES "${_AIC_INCLUDEDIR}")
endif()

# Link the public header-only target to the imported C SDK
# (The link was already encoded in the exported 'aic-sdk' INTERFACE_LINK_LIBRARIES,
# but this ensures the imported 'aic_c' exists in the install tree.)
